[options]
; Railway Production Configuration for Odoo 18.0
; Variables de entorno se reemplazarán automáticamente

; Paths
addons_path = /usr/lib/python3/dist-packages/odoo/addons,/mnt/extra-addons
data_dir = /var/lib/odoo

; Database Configuration (Railway PostgreSQL)
; Railway proporciona DATABASE_URL automáticamente
db_host = ${PGHOST}
db_port = ${PGPORT}
db_user = ${PGUSER}
db_password = ${PGPASSWORD}
db_name = ${PGDATABASE}
db_maxconn = 64

; Server Configuration
http_port = ${PORT}
workers = ${WORKERS}
max_cron_threads = ${MAX_CRON_THREADS}

; Performance & Limits
limit_memory_hard = ${LIMIT_MEMORY_HARD}
limit_memory_soft = ${LIMIT_MEMORY_SOFT}
limit_request = ${LIMIT_REQUEST}
limit_time_cpu = ${LIMIT_TIME_CPU}
limit_time_real = ${LIMIT_TIME_REAL}

; Logging (Railway captura automáticamente stdout/stderr)
log_handler = :INFO
log_level = info
; No especificar logfile - usar stdout para Railway

; Security
admin_passwd = ${ADMIN_PASSWORD}
list_db = True
dbfilter = .*

; Session & Cache
session_store = redis
session_store_host = ${REDIS_HOST}
session_store_port = ${REDIS_PORT}
session_store_password = ${REDIS_PASSWORD}

; Email Configuration (opcional)
email_from = ${EMAIL_FROM}
smtp_server = ${SMTP_SERVER}
smtp_port = ${SMTP_PORT}
smtp_user = ${SMTP_USER}
smtp_password = ${SMTP_PASSWORD}
smtp_ssl = ${SMTP_SSL}

; Proxy Configuration (Railway maneja HTTPS automáticamente)
proxy_mode = True

; Development flags (set to False for production)
dev_mode = False
test_enable = False
demo = False

; File Upload
max_upload_size = 100

; Translation
translate_modules = ['all']
load_language = en_US,es_ES

; Timeouts
db_template = template0
